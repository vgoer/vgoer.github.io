(window.webpackJsonp=window.webpackJsonp||[]).push([[141],{564:function(s,a,e){"use strict";e.r(a);var n=e(1),t=Object(n.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("center",[s._v("redis")]),s._v(" "),e("p",[s._v("[toc]")]),s._v(" "),e("h2",{attrs:{id:"redis"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#redis"}},[s._v("#")]),s._v(" redis")]),s._v(" "),e("blockquote",[e("p",[e("code",[s._v("redis")]),s._v(":key-value 存储系统，是跨平台的非关系型数据库。")]),s._v(" "),e("p",[s._v("Redis 是一个开源的使用 ANSI C 语言编写、遵守 BSD 协议、支持网络、可基于内存、分布式、可选持久性的键值对(Key-Value)存储数据库，并提供多种语言的 API。")])]),s._v(" "),e("h3",{attrs:{id:"_1-下载安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-下载安装"}},[s._v("#")]),s._v(" 1.下载安装")]),s._v(" "),e("blockquote",[e("p",[s._v("菜鸟教程:"),e("a",{attrs:{href:"https://www.runoob.com/redis/redis-install.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("redis"),e("OutboundLink")],1)]),s._v(" "),e("p",[s._v("phpstudy:"),e("a",{attrs:{href:"https://www.daixiaorui.com/read/190.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("redis-linux"),e("OutboundLink")],1)])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// windows上")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 启动服务端")]),s._v("\nredis"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("server"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exe   redis"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("windows"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("conf  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//默认配置文件")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//启动客户端")]),s._v("\nredis"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("cli"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exe "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("h "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("6379")]),s._v("   \n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//linux")]),s._v("\nredis"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("server  \nredis"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("cli\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br")])]),e("blockquote",[e("p",[s._v("推荐： 开源的redis可视化工具    "),e("a",{attrs:{href:"https://github.com/qishibo/AnotherRedisDesktopManager",target:"_blank",rel:"noopener noreferrer"}},[s._v("Another"),e("OutboundLink")],1)])]),s._v(" "),e("h3",{attrs:{id:"_2-常用的数据类型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-常用的数据类型"}},[s._v("#")]),s._v(" 2.常用的数据类型")]),s._v(" "),e("blockquote",[e("p",[s._v("丰富的数据类型，还能保证数据的持久性")])]),s._v(" "),e("ul",[e("li",[s._v("字符串类型("),e("mark",[s._v("string")]),s._v(")")])]),s._v(" "),e("blockquote",[e("p",[s._v("redis中最基本的数据类型，也是最常用的数据类型")])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[s._v("跟memcached一样，即一个"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v("对应一个值这种。操作也很简单，\n常用操作命令有get、"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v("、del等。\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("ul",[e("li",[s._v("链表类型("),e("mark",[s._v("list")]),s._v(")")])]),s._v(" "),e("blockquote",[e("p",[s._v("链表类型有点类似于编程语言中的数组一样，可以用一个key存一组数据进去")])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[s._v("其实list类型就是一个双向链表，\n通过lpush、lpop、rpush、rpop这四个命令来向链表的头部插入、移除、尾部插入、移除，\n这使得list即可以用作栈，也可以用作队列。\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("ul",[e("li",[s._v("无序集合类型("),e("mark",[s._v("set")]),s._v(")")])]),s._v(" "),e("blockquote",[e("p",[s._v("redis中的set是string类型的无序集合，set元素最大可以包含2的32次方-1个元素。")])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[s._v("利用"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v("集合类型，我们可以快速取出n个"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v("之间的并集、交集、差集等，\n从而轻松解决mysql等数据库不容易实现这种运算的缺陷。\n应用场景：取出两个QQ号中的共同的好友数。\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("ul",[e("li",[s._v("有序集合类型("),e("mark",[s._v("sorted set")]),s._v(")")])]),s._v(" "),e("blockquote",[e("p",[s._v("和set一样，sorted set也是string类型元素的集合，是一个没有重复元素的字符串集合")])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[s._v("因为元素是有序的，所以使用有序集合你可以以非常快的速度（O"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("log"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("N"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("）添加，删除和更新元素，它也很擅长排序。\n应用场景：获取所有用户投票数最高的前"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("名，等等。\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("ul",[e("li",[s._v("哈希类型("),e("mark",[s._v("hash")]),s._v(")")])]),s._v(" "),e("blockquote",[e("p",[s._v("hash数据类型存储的数据与mysql数据库中存储一条记录极为相似，其存储了字段和字段值的映射，")]),s._v(" "),e("p",[s._v("但字段值只能是字符串，不支持其他类型")])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[s._v("每一个哈希可以存储超过"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("的"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),s._v("次方"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("个字段"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("值对。\n应用场景：存储用户的基本信息，等等。\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h3",{attrs:{id:"_3-常用基础命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-常用基础命令"}},[s._v("#")]),s._v(" 3.常用基础命令")]),s._v(" "),e("blockquote",[e("p",[s._v("命令行下的一些常用的基础命令")])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("value")]),s._v("  存入一个"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v("和值   "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" myname goer\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" get "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v("  读取一个"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v("的值\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v(" del "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" 删除一个"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v("\n\tdel "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" key1 key2  删除多个\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("exists")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" 判断一个"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v("是否存在   \n\t存在返回 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("integer")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  否则 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("integer")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("type")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" 查看"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v("类型\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("rename")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" keyNew  重命名"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.")]),s._v(" dbsize 查看当前库中的"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v("的条数\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.")]),s._v(" expire "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("time")]),s._v(" 指定"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v("过期的时间   eg: expire go "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" 设置"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("秒过期\n\t返回： "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("integer")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  设置成功\n\t\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("9.")]),s._v(" ttl "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v("  查看"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v("多长时间过期，单位是秒 \n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("keys")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" 查看当前库中的所有"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v("名\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("11.")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("keys")]),s._v(" n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" 当前库中a开头的"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v("   "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("c 以c结尾的\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("12.")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" db"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),s._v(" 选择数据库 \n\t"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("；选择第二个 "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("；默认有"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v("个数据库，这个值可以在redis"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("conf中配置\n\t\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 哈哈,生产环境执行这个，你小伙子真刑，从小就刑")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("13.")]),s._v(" flushdb  清除当前库中的所以"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v("\n\tflushall 清除所以库中的全部"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br")])]),e("blockquote",[e("p",[s._v("tips:  redis中除了\\n和空格外，其他的字符都可以做为key名，")]),s._v(" "),e("p",[s._v("且长度不做要求，但是为了性能，一般==key名就不要设置的太长==。")]),s._v(" "),e("p",[s._v("还需知道的是，redis的key名要区分大小写。")])]),s._v(" "),e("h3",{attrs:{id:"_4-常用高级命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-常用高级命令"}},[s._v("#")]),s._v(" 4.常用高级命令")]),s._v(" "),e("blockquote",[e("p",[s._v("命令行下的一些常用的高级命令")])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" mset key1 value1 key2 value2 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" 一次性存入多个"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v("和值\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" mget key1 key2 key3"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" 一次性读取多个"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v(" incr "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" 可以对"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v("类型"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("的操作（相当于编程语言里面的"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("） \n\t只能操作number型，操作字符串会报错。可对新值进行操作。\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.")]),s._v(" decr "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" 可以对"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v("类型"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("的操作，（相当于编程语言里面的"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--） ")]),s._v("\n\t只能操作number型，操作字符串会报错。\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.")]),s._v(" incrby "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" num 和incr一样 对"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v("加num \n   decrby "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" num 同上 对"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v("减num\n  \n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.")]),s._v(" append "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("value")]),s._v(" 指定kye的字符串  的值  进行追加 如果"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v("是整形会转换为字符串\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.")]),s._v(" substr "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("start")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v(" 对指定"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v("的值进行截取 \n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br")])]),e("h3",{attrs:{id:"_5-数据类型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-数据类型"}},[s._v("#")]),s._v(" 5.数据类型")]),s._v(" "),e("h4",{attrs:{id:"a-list链表类型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#a-list链表类型"}},[s._v("#")]),s._v(" a. list链表类型")]),s._v(" "),e("blockquote",[e("p",[s._v("点类似于编程语言中的数组")])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[s._v("从元素插入和删除的效率来看，如果从链表的两头插入或者删除，会非常的高效\n即使链表中已经存储了上百万条的记录，也可以在很短的时间内完成。\n然而需要说明的是，如果元素插入或删除操作是作用于链表中间，那将会是非常低效的。\n相信对于有良好数据结构基础的开发者而言，这一点并不难理解。\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("blockquote",[e("p",[s._v("redis链表经常会被用于 "),e("mark",[s._v("消息队列的服务")]),s._v("，以完成多程序之间的消息交换。")])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[s._v("list 常用命令\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" lpush "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("value")]),s._v(" 往头部插入一个元素  也可以直接插入多个\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" rpush "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("value")]),s._v(" 往尾部插入一个元素\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v(" lpop "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" 从队列头部删掉一个元素  并返回被删除的元素的值\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.")]),s._v(" rpop "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" 从队列尾部删除一个元素  并返回被删除的元素的值\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.")]),s._v(" llen 返回队列的长度， 不存在"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v("返回"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  不为队列类型报错\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.")]),s._v(" lrange "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("start")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("  返回队列从"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("start")]),s._v("到"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("之间的信息\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.")]),s._v(" ltrim "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("start")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v(" 截取一个队列，只保留指定区间的元素 \n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br")])]),e("h4",{attrs:{id:"b-set无序集合类型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#b-set无序集合类型"}},[s._v("#")]),s._v(" b.set无序集合类型")]),s._v(" "),e("blockquote",[e("p",[s._v("set是string类型的无序集合,")]),s._v(" "),e("p",[s._v("利用set集合类型，我们可以快速取出n个key之间的并集、交集、差集等")]),s._v(" "),e("p",[s._v("set集合中==不允许出现重复的元素==，因此set类型也可以快速判断某一元素是否存在。")])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" 常用命令\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" sadd "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("value")]),s._v(" 往集合中添加元素 如果"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("value")]),s._v("存在， 则返回"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("，不会被重复插入\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" sinter key1 key2 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" 取出 n个"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v("之间的交集 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("值相同的"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v(" sunion key1 key2 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" 取出n个"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v("之间的并集 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("所有的值 加一起"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.")]),s._v(" sdiff key1 key2 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" 取出n个"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v("之间的差集 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("两个集合不相同的值"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.")]),s._v(" smembers "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" 返回"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v("集合所有的元素\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.")]),s._v(" sismember "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("value")]),s._v(" 查看"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("value")]),s._v("这个值是否在"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v("集合中  存在返回"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("，不存在返回"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("。\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.")]),s._v(" scard "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" 返回集合中有多个元素\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.")]),s._v(" smove key1 key2 "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("value")]),s._v(" 把"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("value")]),s._v("从key1中移动到key2里\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("9.")]),s._v(" srem "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" value1 value2 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" 从"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v("集合中删除某些元素\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br")])]),e("blockquote",[e("p",[s._v("应用场景：取出两个QQ号中的共同的好友数；判断某个ip是否在白名单内等。")])]),s._v(" "),e("h4",{attrs:{id:"c-sorted-set-有序集合"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#c-sorted-set-有序集合"}},[s._v("#")]),s._v(" c.sorted set 有序集合")]),s._v(" "),e("blockquote",[e("p",[s._v("sorted set也是string类型元素的集合，因为元素是有序的，")]),s._v(" "),e("p",[s._v("所以使用有序集合你可以以非常快的速度（O(log(N))）添加，删除和更新元素，它也很擅长排序。")])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[s._v("sorted "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" 常用命令\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" zadd "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" v k 往"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v("中加一个元素 k是键 v 是值 \n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" zrange "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("start")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("   根据"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("value")]),s._v("的从小到大排序，获取"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("start")]),s._v("到"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("之间的元素\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v(" zrevrange "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("start")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v(" 根据"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("value")]),s._v("的从大到小排序，获取"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("start")]),s._v("到"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("之间的元素\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.")]),s._v(" zremrangebyrank   "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("start")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("  删除集合中的元素  排序的方式为按照v由小到大的顺序\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.")]),s._v("zcard "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" 返回集合中元素的个数\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.")]),s._v(" zrank "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" k 返回值k在集合"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v("中排第几位，是按照v由小到大的顺序。排第一名返回"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("，第二返回"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("，以此类推。\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.")]),s._v(" zrevrank "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" k 按照v由大到小的顺序。 \n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.")]),s._v(" zscore "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" k 取出集合"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v("键为k对应的值v。\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("9.")]),s._v(" zrem "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" k 删除集合指定的k元素\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.")]),s._v("zincrby "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" num k 给指定"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v("中的元素k加上num值针对整型 \n\t比如 zincrby artHits "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("，给id为"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("的文章加上"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("个点击量。\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br")])]),e("blockquote",[e("p",[s._v("应用场景：获取网站中点击量最高的前n篇文章，等等。")])]),s._v(" "),e("h4",{attrs:{id:"d-hash-哈希类型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#d-hash-哈希类型"}},[s._v("#")]),s._v(" d.hash 哈希类型")]),s._v(" "),e("blockquote",[e("p",[s._v("hash数据类型存储的数据与mysql数据库中存储一条记录极为相似，")]),s._v(" "),e("p",[s._v("是一个string类型的field和value的映射表，它特别适合用于存储对象，")]),s._v(" "),e("p",[s._v("但字段值只能是字符串，不支持其他类型。")])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// hash 常用命令")]),s._v("\n\nhset "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" field "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("value")]),s._v(" 设置"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("hash")]),s._v(" field为指定值，如果"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v("不存在，则先创建。\n\nhmset "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" field1 value1 f2 v2 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" 同时设置多个值。\n\nhget "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" field 获取指定"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("hash")]),s._v(" field\n\nhmget "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" field1 f2 f3 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" 获取多个field\n\nhexists "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" field 查看指定的field是否存在\n\nhlen "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v("  返回"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("hash")]),s._v("中field的数量\n\nhdel "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" field 删除指定"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("hash")]),s._v("的field\n\nhkeys "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" 返回指定"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("hash")]),s._v("中所有的field\n\nhvals "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" 返回指定"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("hash")]),s._v("中的所有"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("value")]),s._v("\n\nhgetall "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("key")]),s._v(" 返回"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("hash")]),s._v("中所以的field和"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("value")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br")])]),e("blockquote",[e("p",[s._v("每一个哈希可以存储超过2的32次方-1个字段-值对。应用场景：可以用来存储用户的基本信息等。")])]),s._v(" "),e("h3",{attrs:{id:"php-redis"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#php-redis"}},[s._v("#")]),s._v(" php+redis")]),s._v(" "),e("blockquote",[e("p",[s._v("php连接数据库")])]),s._v(" "),e("blockquote",[e("p",[s._v("安装 php的redis扩展 "),e("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/96520671",target:"_blank",rel:"noopener noreferrer"}},[s._v("php全栈"),e("OutboundLink")],1)])]),s._v(" "),e("div",{staticClass:"language-php line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[s._v("phpinfo() //查看php版本信息  查看拓展\n    \n"),e("span",{pre:!0,attrs:{class:"token php language-php"}},[e("span",{pre:!0,attrs:{class:"token delimiter important"}},[s._v("<?php")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$redis")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Redis")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//创建一个对象")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$redis")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("connect")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'127.0.0.1'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("6379")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//连接redis")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$redis")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("select")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//选择数据库（默认16个数据库，0-15，这个值可以在配置文件修改。）")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$redis")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("set")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'a1'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'www.daixiaorui.com'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//往redis写入一条记录")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("echo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$redis")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'a1'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//从redis中读取一条记录")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token delimiter important"}},[s._v("?>")])]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br")])]),e("blockquote",[e("p",[s._v("添加连接密码："),e("a",{attrs:{href:"https://www.runoob.com/redis/redis-security.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("auth"),e("OutboundLink")],1)]),s._v(" "),e("div",{staticClass:"language-php line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$redis")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("auth")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'passwd'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("h3",{attrs:{id:"注意"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#注意"}},[s._v("#")]),s._v(" 注意")]),s._v(" "),e("ul",[e("li",[s._v("内存")])]),s._v(" "),e("blockquote",[e("p",[s._v("redis缓存固然高效，可是它会占用我们系统中宝贵的内存资源")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("info 查看信息\n\n# Memory\n\nused_memory:13490096 //数据占用了多少内存（字节）\n\nused_memory_human:12.87M //数据占用了多少内存（带单位的，可读性好）\n\nused_memory_rss:13490096  //redis占用了多少内存\n\nused_memory_peak:15301192 //占用内存的峰值（字节）\n\nused_memory_peak_human:14.59M //占用内存的峰值（带单位的，可读性好）\n\nused_memory_lua:31744  //lua引擎所占用的内存大小（字节）\n\nmem_fragmentation_ratio:1.00  //内存碎片率\n\nmem_allocator:libc //redis内存分配器版本，在编译时指定的。有libc、jemalloc、tcmalloc这3种。\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br")])]),e("ul",[e("li",[s._v("持久化")])]),s._v(" "),e("blockquote",[e("p",[s._v("redis持久化选择rdb快照模式的时候，redis并不是实时的进行数据持久化，而是有一定的时间间隔。")]),s._v(" "),e("p",[s._v("这个时候如果我们想要手动进行一次持久化，可以使用save或者bgsave命令")])]),s._v(" "),e("div",{staticClass:"language-txt line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-txt"}},[e("code",[s._v("save命令\n\n优点：节约系统资源。\n\n缺点：会阻塞redis进程，阻塞期间，服务器无法响应其他的处理，直到执行完成为止。如果数据量小，用此命令可能感觉不出有什么区别，但是当数据量很大的时候，就需要谨慎使用这个命令了。\n\n\nbgsave命令\n\n优点：执行此命令的时候，redis会fork出一个子进程去完成备份持久化，而不会影响redis处理其他的请求。\n\n缺点：由于会fork一个进程，因此更消耗内存。\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br")])]),e("blockquote",[e("p",[s._v("推荐 "),e("code",[s._v("bgsave")]),s._v("命令")])]),s._v(" "),e("ul",[e("li",[s._v("权限")])]),s._v(" "),e("blockquote",[e("p",[s._v("redis可以通过设置密码来增强安全强度。")]),s._v(" "),e("p",[s._v("除了设置密码，我们还可以通过修改redis的默认端口、对端口做防火墙等。")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("redis.conf\n\nrequirepass  passwd 所在的地方，修改为指定的密码，再去掉前面的#号注释符，然后重启redis即可。 \n\n注意：密码为明文的，所以我们要保证redis.conf文件的权限以保证更加安全。\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("登录\nauth passwd (passwd就是你子啊配置文件设置的密码)\n\nredis-cli.exe -h 127.0.0.1 -p 6379 -a passwd  连接是就带上密码\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("ul",[e("li",[s._v("压力测试")])]),s._v(" "),e("blockquote",[e("p",[s._v("自带的redis-benchmark工具，使用简单")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("压测命令\n     -c 连接数\n     -n 请求次数\n\t -t 测试单个命令\n\t -q 只看结果\n\nredis-benchmark -h 127.0.0.1 -p 6379 -c 50 -n 10000 \n\t依次压测多个命令的结果，如：get、set、incr、lpush等等\n\nredis-benchmark -h 127.0.0.1 -p 6379 -c 50 -n 10000 -g get 测试get命令\n\nredis-benchmark -h 127.0.0.1 -p 6379 -c 50 -n 10000 -q\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br")])]),e("blockquote",[e("p",[s._v("压测结果跟机器的性能有关，其中windows下压测的结果要比在linux下差一大截。")])])],1)}),[],!1,null,null,null);a.default=t.exports}}]);